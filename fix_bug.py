import os

print("üïµÔ∏è‚Äç‚ôÇÔ∏è –ü–û–ß–ò–ù–ê–Æ –†–û–ó–°–õ–Ü–î–£–í–ê–ù–ù–Ø...")

src_path = os.path.join(os.getcwd(), "src")

# 1. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —ñ—Å–Ω—É—î –ø–∞–ø–∫–∞ src
if not os.path.exists(src_path):
    print(f"‚ùå –ü–ê–ü–ö–ê –ó–ù–ò–ö–õ–ê! Python –Ω–µ –±–∞—á–∏—Ç—å –ø–∞–ø–∫—É: {src_path}")
    exit()

# 2. –î–∏–≤–∏–º–æ—Å—è, —è–∫—ñ —Ñ–∞–π–ª–∏ —Ä–µ–∞–ª—å–Ω–æ –ª–µ–∂–∞—Ç—å —É –ø–∞–ø—Ü—ñ (—Ä–∞–∑–æ–º —ñ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º–∏)
files = os.listdir(src_path)
print(f"üìÇ –§–∞–π–ª–∏ —É –ø–∞–ø—Ü—ñ src: {files}")

# 3. –®—É–∫–∞—î–º–æ —Ñ–∞–π–ª –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
if "database.py" in files:
    print("‚úÖ –§–∞–π–ª 'database.py' –ó–ù–ê–ô–î–ï–ù–û! (–ù–∞–∑–≤–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞)")
    # –ü—Ä–æ–±—É—î–º–æ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏
    try:
        from src import database
        print("üéâ –Ü–ú–ü–û–†–¢ –ü–†–ê–¶–Æ–Ñ! –ü—Ä–æ–±–ª–µ–º–∞ –≤–∏—Ä—ñ—à–µ–Ω–∞.")
    except ImportError as e:
        print(f"‚ö†Ô∏è –§–∞–π–ª —î, –∞–ª–µ –ø–æ–º–∏–ª–∫–∞ —ñ–º–ø–æ—Ä—Ç—É: {e}")
    except Exception as e:
        print(f"‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ–∞–π–ª—É database.py: {e}")

elif "database.py.txt" in files:
    print("‚ùå –ó–ù–ê–ô–î–ï–ù–û –ü–û–ú–ò–õ–ö–£: –§–∞–π–ª –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è 'database.py.txt'!")
    print("üîß –í–ò–ü–†–ê–í–õ–Ø–Æ... –ü–µ—Ä–µ–π–º–µ–Ω–æ–≤—É—é –Ω–∞ 'database.py'")
    try:
        os.rename(os.path.join(src_path, "database.py.txt"), os.path.join(src_path, "database.py"))
        print("‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û! –°–ø—Ä–æ–±—É–π –∑–∞–ø—É—Å—Ç–∏—Ç–∏ test_db_save.py –∑–Ω–æ–≤—É.")
    except Exception as e:
        print(f"–ù–µ –≤–¥–∞–ª–æ—Å—è –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ: {e}")

else:
    print("‚ùå –§–ê–ô–õ–£ –ù–ï–ú–ê–Ñ. –£ —Å–ø–∏—Å–∫—É –≤–∏—â–µ –Ω–µ–º–∞—î –Ω—ñ 'database.py', –Ω—ñ 'database.py.txt'.")
    print("–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ —Ñ–∞–π–ª —Å–∞–º–µ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –ø–∞–ø–∫–∏ src.")